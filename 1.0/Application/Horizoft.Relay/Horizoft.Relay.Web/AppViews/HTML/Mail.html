<html>
<head>
	<title></title>
	<!--<link rel="stylesheet" href="../../Scripts/jquery-ui-1.11.4.custom/jquery-ui.css">-->
	<link rel="stylesheet" href="/Styles/pagestructure.css">
	<link rel="stylesheet" href="/Styles/menu_left.css">
	<link rel="stylesheet" href="/Styles/component_library.css">
    <link rel="stylesheet" href="/Styles/jquery-te-1.4.0.css">
    <!--<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/Styles/editor.css">-->
    <link rel="stylesheet" href="/Styles/page-input.css">
	<!--<link rel="stylesheet" href="../../Style/stylesheet1.css">-->
	<style>

        .jqte {
            margin: 0px;
            border: 0px solid rgba(0, 0, 0, 1);
        }

	</style>
	<script type="text/javascript" src="/Scripts/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="/Scripts/jquery-1.10.2.min.js"></script>
	<script type="text/javascript" src="/Scripts/jquery-ui-1.11.4.custom/jquery-ui.js"></script>
    <script type="text/javascript" src="/Scripts/jquery-te-1.4.0.min.js"></script>
    <!--<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>-->
    <!--<script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>-->
    <!--<script type="text/javascript" src="/Scripts/editor.js"></script>-->
	
    <script type="text/javascript" src="/AppScripts/Utilities/jquery.utilities.js"></script>
	<script type="text/javascript" src="/AppScripts/Utilities/jquery.utilities.string.js"></script>
	<script type="text/javascript" src="/AppScripts/Utilities/jquery.webapi.js"></script>
	<script type="text/javascript" src="/AppScripts/Utilities/horizoft.jquery.menu.js"></script>
    <script type="text/javascript" src="/AppScripts/Utilities/horizoft.jquery.webapi.js"></script>
    <script type="text/javascript" src="/AppScripts/API/MailAPI.js"></script>
    <script type="text/javascript" src="/AppScripts/DTO/DTMail.js"></script>
	<script>
	    var mailApi = new MailAPI();

	    $(document).ready(function () {
            $("#menu-left").loadLeftMenu("../Home/LeftMenu.html", "blue-highlight");

            var mail = mailApi.GetFirst();

            //var mail = {
            //    id: 2,
            //    sender: "hrmadmin@horizoft.com",
            //    recipients: "potsavas.k@horizoft.com;earl@horizoft.com;natthajak.r@horizoft.com",
            //    subject: "เตือนอุณหภูมิห้อง Server ขึ้นสูง",
            //    message: "Monitored time is {LOG_TIME}<br />\r\n"
            //           + "Server Room Temperature (°C)<br />"
            //           + "อุณหภูมิเซนเซอร์ตัวที่ 1: {SENSOR_1}°C<br />"
            //           + "อุณหภูมิเซนเซอร์ตัวที่ 2: {SENSOR_2}°C<br />"
            //           + "<br />"
		    //           + "พัดลมตั้งพื้น: {RELAY_4}<br />\r\n"
            //           + "Exhaust Fan: {RELAY_5}<br />\r\n"
            //           + "Air Vent: {RELAY_6}<br />\r\n"
            //           + "แอร์เครื่องที่ 1 18,000 BTU: {RELAY_1}<br />\r\n"
            //           + "แอร์เครื่องที่ 2 14,000 BTU: {RELAY_2}<br />\r\n"
            //           + "แอร์เครื่องที่ 3 18,000 BTU: {RELAY_3}<br />\r\n"
            //           + "<br />\r\n"
            //           + "หมายเหตุ<br />\r\n"
            //           + "1. อุณหภูมิตั้งแต่ 40°C ขึ้นไป ควรแจ้งเปิดแอร์ตึก<br />\r\n"
            //           + "2. อุณหภูมิ 35-40°C เฝ้าระวัง<br />\r\n"
            //           + "3. อุณหภูมิต่ำกว่า 35°C ปกติ<br />\r\n"
            //           + "<br />\r\n"
            //           + "My Name<br />\r\n"
            //           + "My Department<br />\r\n"
            //           + "My Contact\r\n"
            //};

            $(".form-input").bindView(mail);
            $(".form-input-message").jqte();

            var message = $(".jqte_editor").text();
        })

        $(document).on("click", "[data-action='Mail-Save']", function () {
            var mail = $("#mail-input").retrieve(new DTMail());
            mail.message = $(".jqte_editor").html();

            if (mailApi.GetFirst())
                mailApi.Update(mail);
            else
                mailApi.Add(mail);

            var n = 0;
            //mailApi.Add(mail);
        })

		</script>
</head>

<body>
	<div class="view-section-left">
		<div class="view-section-left-head"></div>
		<div class="view-section-left-container">
			<div id="menu-left" class="menu-left">
			</div>
		</div>
	</div><!--
	--><div class="view-section-center">
		<div class="view-section-center-head"></div>
		<div class="view-section-center-container">
            <div class="card card-3">
                <table id="mail-input" class="form-input">
                    <tbody>
                        <tr>
                            <td>Sender</td>
                            <td>
                                <input type="text" data-field="sender" />
                                <input type="text" data-field="id" hidden />
                            </td>
                        </tr>
                        <tr>
                            <td>Recipents</td>
                            <td><input type="text" data-field="recipients" /></td>
                        </tr>
                        <tr>
                            <td>Subject</td>
                            <td><input type="text" data-field="subject" /></td>
                        </tr>
                        <tr>
                            <td>Message</td>
                            <td>
                                <!--<div class="form-input-message" data-field="message"></div>-->
                                <textarea class="form-input-message" data-field="message">
                                </textarea>
                                <!--<textarea name="textarea" class="jqte-test"><b>My contents are from <u><span style="color:rgb(0, 148, 133);">TEXTAREA</span></u></b></textarea>-->
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="form-command-container">
                    <div class="form-command">
                        <button class="command-green" data-action="Mail-Save">Save</button>
                        <button class="command-red" data-action="Mail-Cancel">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
	</div>
</body>

</html>